---
title: mysql 必知必会
date: 2017-12-28 15:25:06
date: 2017-06-01 14:19:08
tags:
- mysql
categories:
- 读书笔记
description: mysql 必知必会
---


# 过滤数据
数据为空时，需要手动指定查找 `NULL` 的数据：

```
SELECT * FROM country WHERE continent != 'asia' OR continent is NULL;
```

甚至，用 `LIKE` 也无法查出 `NULL` 的数据:

```
LIKE '%';
```

# 通配符
`%` `_`

# 正则表达式
`REGEXP`

```
LIKE 'ayou'
```

等价于

```
REGEXP '^ayou$'
```

```
SELECT * FROM country WHERE continent REGEXP '^[[:alpha:]]{4}$'
```

# 汇总数据
## count
* count(*) 不忽略NULL值
* count(column) 对特定列中具有值的行进行计数，忽略NULL值

## sum

## DISTINCT
`
SELECT SUM(DISTINCT times) AS all_times FROM country;
`

# 分组数据
## 过滤分组 HAVING
* WHERE 过滤行，HAVING 过滤分组

# 子查询
```
SELECT cust_name,
       cust_state,
       (SELECT COUNT(*)
        FROM orders
        WHERE orders.cust_id = customers.cust_id) AS orders
FROM customers
ORDER BY cust_name;
```

# 连结表
## 自连接
## 自然连接

# 组合查询

# 全文本搜索

# 视图
## 简化复杂联结
## 重新格式化检索出的数据
## 过滤不想要的数据


# 存储过程

# 使用游标
只能在存储过程中使用


# 触发器
select 语句不触发



